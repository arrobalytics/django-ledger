{% load static %}
{% load django_ledger %}
{% load cache %}
{% load i18n %}
{% now "Y" as current_year %}
    <section class="section is-flex is-flex-direction-row-reverse is-align-items-center pt-5 pr-2">

    <nav class="navbar is-fixed-top is-light is-flex is-flex-direction-row-reverse is-align-items-center pt-2 pr-2">
    <figure id="user-toggle" class="image is-48x48 ml-3" onclick="djLedger.toggleModal('user-info')">
         <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
    </figure>
<div class="navbar-menu" id="nav-links">
      <!-- right links -->
      <div class="navbar-end">
    <span id="feedback-toggle" class="icon is-hidden-mobile navbar-item is-large ml-3" onclick="djLedger.toggleModal('info-modal')">{% icon "bi:chat-left-quote" 30 %} </span>
    <span id="info-toggle" class="icon is-hidden-mobile navbar-item is-large ml-3" onclick="djLedger.toggleModal('info-modal-2')">{% icon "bi:info-circle" 30 %} </span>
   <a class="navbar-item is-hidden-mobile " href="{% url 'django_ledger:home' %}">
                    <img src="{% static 'django_ledger/logo/django-ledger-logo_1.png' %}" height="28">
            </a>
      </div></div>
        <div class="dropdown" id="drop-test">
  <div class="dropdown-trigger">
      <a role="button" class="navbar-burger burger"  onclick="djLedger.toggleMenu('drop-test')" aria-label="menu" aria-expanded="false"
               data-target="djl-navbar-menu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
  </div>
  <div class="dropdown-menu" id="dropdown-menu" role="menu">
    <div class="dropdown-content">
      <span id="feedback-toggle" class="icon navbar-item is-large" onclick="djLedger.toggleModal('info-modal')">{% icon "bi:chat-left-quote" 30 %} </span>
    <span id="info-toggle" class="icon navbar-item is-large" onclick="djLedger.toggleModal('info-modal-2')">{% icon "bi:info-circle" 30 %} </span>
   <a class="navbar-item " href="{% url 'django_ledger:home' %}">
                    <img src="{% static 'django_ledger/logo/django-ledger-logo_1.png' %}" height="28">
            </a>
    </div>
  </div>
</div>

   <div class="navbar-start pl-3">
   <a href="{{ entity.get_dashboard_url }}">
     <h2 class="title is-3">{% session_entity_name request %}</h2>
   </a>
    </div>
        <div class="navbar-item pl-3">
            <a href="#" class="has-text-black"><span id="app-toggle" class="icon is-large" onclick="djLedger.toggleModal('nav-menu')">{% icon "fe:app-menu" 30 %} </span></a>
    </div>
    </nav>

<div id="user-card" class="box nav-card">
    <div class="is-flex is-align-items-center is-flex-direction-column">
    <figure class="image is-96x96 mb-3">
         <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
    </figure>
    <h1 class="title">{{ user }}</h1>
    <h2 class="subtitle is-6">{{ user.email }}</h2>
    <a href="{% url 'django_ledger:logout' %}"
                       id="djl-el=logout-button-nav"
                       class="button is-small is-danger is-outlined">
                        {% trans 'Logout' %}
                    </a>
    </div>
</div>


<div id="info-modal" class="modal is-justify-content-space-between">
  <div class="modal-background" onclick="djLedger.toggleModal('info-modal')"></div>
    <div class="container mr-6 mt-6">
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title p-0">Feedback</p>
      <button class="delete" aria-label="close" onclick="djLedger.toggleModal('info-modal')"></button>
    </header>
    <section class="modal-card-body">
      <div class="is-flex is-align-items-center is-flex-direction-column">

        <a href="javascript:djLedger.toggleDropdown('{{ bug_modal_html_id }}')"
           class="navbar-item">{% trans 'Report a Bug' %}</a>
        <a href="javascript:djLedger.toggleDropdown('{{ feature_modal_html_id }}')"
           class="navbar-item">{% trans 'Request a Feature' %}</a>

    </div>
    </section>
  </div>
        </div>
</div>


        <div id="info-modal-2" class="modal is-justify-content-space-between">
  <div class="modal-background" onclick="djLedger.toggleModal('info-modal-2')"></div>
    <div class="container mr-6 mt-6">
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title p-0">Info</p>
      <button class="delete" aria-label="close" onclick="djLedger.toggleModal('info-modal-2')"></button>
    </header>
    <section class="modal-card-body">
      <div class="is-flex is-align-items-center is-flex-direction-column">
         <figure class="image is-96x96 mb-5">
         <img class="is-rounded" src="{% static 'django_ledger/logo/django-ledger-logo_1.png' %}">
    </figure>
    <h1 class="title is-4">v {% current_version %}</h1>
    <a href="https://djangoledger.com" target="_blank"><h2 class="subtitle is-6">djangoledger.com</h2></a>
    </div>
    </section>
  </div>
        </div>
</div>


        <div id="user-info" class="modal is-justify-content-space-between">
  <div class="modal-background" onclick="djLedger.toggleModal('user-info')"></div>
    <div class="container mr-6 mt-6">
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title p-0">{{ user }}</p>
      <button class="delete" aria-label="close" onclick="djLedger.toggleModal('user-info')"></button>
    </header>
    <section class="modal-card-body">
     <div class="is-flex is-align-items-center is-flex-direction-column">
    <figure class="image is-96x96 mb-3">
         <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
    </figure>
    <h2 class="subtitle is-6">{{ user.email }}</h2>
    <a href="{% url 'django_ledger:logout' %}"
                       id="djl-el=logout-button-nav"
                       class="button is-small is-danger is-outlined">
                        {% trans 'Logout' %}
                    </a>
    </div>
    </section>
  </div>
        </div>
</div>
{# code for new button Modal#}
        <div id="new-feature" class="modal is-justify-content-space-between">
  <div class="modal-background" onclick="djLedger.toggleModal('new-feature')"></div>
    <div class="container ml-6 mt-6">
        <br><br>
  <div class="modal-card mt-6">

    <section class="modal-card-body">
      <div class="is-flex is-flex-direction-column">
          <div class="columns">
              <div class="column is-7 has-text-weight-bold">Customers</div>
              <div class="column is-4 has-text-weight-bold">Vendors</div>
          </div>
          {% if session_entity_slug %}
          <div class="columns">
              {% session_entity_slug as entity_slug %}
              <div class="column is-7"><a  href="{% url 'django_ledger:invoice-create' entity_slug=entity_slug %}"><h2 class="subtitle is-6">Invoice</h2></a></div>
              <div class="column is-4"><a  href="{% url 'django_ledger:bill-create' entity_slug=entity_slug %}"><h2 class="subtitle is-6">Bill</h2></a></div>
          </div>
          {% endif %}
    </div>
    </section>
      <footer class="modal-card-foot">
          <div class="container has-text-right">
<button class="delete" aria-label="close" onclick="djLedger.toggleModal('new-feature')"></button></div>
      </footer>
  </div>
        </div>
</div>

{# Code for Nav Menu Modal#}

        <div id="nav-menu" class="modal">
  <div class="modal-background" onclick="djLedger.toggleModal('nav-menu')"></div>
    <div class="container ml-0">

  <div class="modal-card">
<header class="modal-card-head has-background-white">

    <a href="#" class="has-text-black"><span id="app-toggle" class="icon is-large" onclick="djLedger.toggleModal('nav-menu')">{% icon "fe:app-menu" 30 %} </span></a>

    </header>
    <section class="modal-card-body">
      <div class="is-flex is-flex-direction-column">
      <div class="columns">
          <span id="app-toggle" class="icon is-large" >{% icon "mdi:barn" 30 %}</span>
          <div class=" has-text-weight-bold has-text-justified p-4">Departments</div>
     </div>
      <div class="columns">
          <span id="app-toggle" class="icon is-large" >{% icon "bytesize:settings" 30 %}</span>
          <div class=" has-text-weight-bold has-text-justified p-4">Settings</div>
     </div>
      <div class="columns">
          <span id="app-toggle" class="icon is-large" >{% icon "bi:tools" 30 %}</span>
          <div class=" has-text-weight-bold has-text-justified p-4">Tools</div>
     </div>
    </div>
    </section>
      <footer class="modal-card-foot has-background-white">
          <div class="container m-3"></div>
      </footer>

  </div>
        </div>
</div>

    </section>
